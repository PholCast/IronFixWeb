<!-- Profile section -->
<section class="profile-section">
    <div class="profile-image">
        <img src="../assets/leoPro.png" alt="Foto de perfil">
    </div>
    <div class="profile-info">
        <h1 class="profile-name">{{ currentUser()?.fullname }}</h1>
        <div class="profile-details">
            <div class="profile-detail">
                <span class="detail-label">Nombre de usuario:</span>
                <span class="detail-value">{{ currentUser()?.username }}</span>
            </div>
            <div class="profile-detail">
                <span class="detail-label">Empresa:</span>
                <span class="detail-value">{{ currentUser()?.company }}</span>
            </div>
            <div class="profile-detail">
                <span class="detail-label">Cargo:</span>
                <span class="detail-value">{{ currentUser()?.jobTitle || 'N/A'}}</span>
            </div>
            <div class="profile-detail">
                <span class="detail-label">Teléfono:</span>
                <span class="detail-value">{{ currentUser()?.phone || 'No definido' }}</span>
            </div>
            <div class="profile-detail">
                <span class="detail-label">Rol:</span>
                <span class="detail-value">{{ currentUser()?.role === 'admin' ? 'Administrador' : 'Técnico' }}</span>
            </div>
            <div class="profile-detail">
                <span class="detail-label">Correo:</span>
                <span class="detail-value">{{ currentUser()?.email }}</span>
            </div>
        </div>
        <button class="edit-btn" (click)="onOpenEditModal()">Editar</button>
    </div>


      <!-- Modal -->
  @if (modalVisible) {
    <div class="modal-background">
      <div class="modal-content">
        <h2>Editar Perfil</h2>

        <form [formGroup]="profileForm">
          <label>Nombre completo*</label>
          <input type="text" formControlName="fullname" required>
          <label>Nombre de usuario*</label>
          <input type="text" formControlName="username" required>

          <label>Empresa*</label>
          <input type="text" formControlName="company" required>

          <label>Cargo</label>
          <input type="text" formControlName="jobTitle">

          <label>Teléfono</label>
          <input type="text" formControlName="phone">

          <label>Email*</label>
          <input type="text" formControlName="email" required>

          <div class="modal-actions">
            <button (click)="onUpdateUser()" class="save-btn">
              Actualizar
            </button>
            <button type="button" class="cancel-btn" (click)="onCloseModal()">Cancelar</button>
          </div>
        </form>

      </div>
    </div>
  }
</section>